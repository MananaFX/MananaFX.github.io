import{_ as f,d as g,r as L,C as h,E as v,G as T,H as w,e as d,h as c,w as i,J as y,s as E,m as k,p as l,q as r,F as C,v as x,x as B,f as s,t as o}from"./index.e250aa31.js";import{L as N}from"./LoadEnd.a6ee84a1.js";import{L as S}from"./Loading.e6d73913.js";const $=g({name:"Timeline",components:{LoadEnd:N,LoadingCustom:S},setup(){const e=L({isLoadEnd:!1,isLoading:!1,list:[],total:0,params:{keyword:"",pageNum:1,pageSize:10}}),m=a=>y(a,!0),n=async()=>{e.isLoading=!0;const a=await E.get(k.getTimeAxisList,{params:e.params});e.isLoading=!1,e.list=[...e.list,...a.list],e.total=a.count,e.params.pageNum++,e.total===e.list.length&&(e.isLoadEnd=!0)};return h(()=>{n(),window.onscroll=()=>{v()+T()>w()-100&&e.isLoadEnd===!1&&e.isLoading===!1&&n()}}),{state:e,formatTime:m,handleSearch:n}}}),H={class:"timeline left"};function b(e,m,n,a,D,F){const p=l("el-card"),_=l("el-timeline-item"),u=l("el-timeline");return r(),d("div",H,[c(u,null,{default:i(()=>[(r(!0),d(C,null,x(e.state.list,(t,V)=>(r(),B(_,{key:t._id,color:t.state===1?"green":t.state===3?"red":"",placement:"top","hide-timestamp":""},{default:i(()=>[c(p,null,{default:i(()=>[s("h3",null,o(t.title),1),s("p",null,o(t.content),1),s("p",null,[s("span",null,o(e.formatTime(t.start_time))+"-- ",1),s("span",null,o(e.formatTime(t.end_time)),1)])]),_:2},1024)]),_:2},1032,["color"]))),128))]),_:1})])}var G=f($,[["render",b],["__scopeId","data-v-8870cbb6"]]);export{G as default};
