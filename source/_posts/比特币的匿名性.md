---
title: 比特币的匿名性
date: 2022-05-24 09:58:32
categories: 选修课程
tags: [比特币,大三,作业]
---

# 比特币的匿名性



![image-20220529210515572](https://mewtiger-1311904225.cos.ap-nanjing.myqcloud.com/post/image-20220529210515572.png)

最开始我很困惑该怎么去讲比特币，没想到在网上一搜全都是我的学长们写的。为了进行一个区分，说明我的原创性，我打开了词典，打算用英文来作为我ppt的标题。



Aidan Arasasingham and Gerard DiPippo, of the Washington-based Center for Strategic and International Studies, note that bitcoin is not truly anonymous, but rather pseudonymous, where coins can be held in wallets opened under alternative or false names.

简言之，anonymous是匿名，身份隐匿的，而pseudonymous只是使用假名的。

 在Bitcoin中，只是可以pesudonymous而用户其实无法做到anonymous，因为每一笔转账交易都是traceable的，有迹可循的。

 而这也是比特币最初设计的目的所在，并非是要做非法交易，地下黑市的交易货币，而是要成为一个统一而方便的线上支付体系，减少或降低各国政府发行货币背后带来的政府信用危机问题。

接下来我将讲述为什么比特币不是anonymous，而是pseudonymous的

## 1.1.为什么比特币是anonymous的



### 1.1.1钱包与个人没有关联

在比特币的交易中，比特币会被放在一个钱包里，而这个钱包不需要你利用身份证什么的来注册生成，用户可以产生很多对账户，然后用不同的账户做不同的事情。这个钱包以地址来进行标识，这个地址是hash值，对我们来说也就是一堆乱码，就连交易的双方能看到的也只是对方的给的一串hash值。

### 1.1.2没有中间商

不存在中间商知道双方的消息

## 1.2 为什么Bitcoin不是anonymous的

比特币依靠数字签名来证明所有权，通过交易历史公开来预防双花攻击。交易历史通过P2P网络共享，通过POW共识机制来达成一致。比特币的这一性质，尤其是公开的交易历史就决定了比特币不可能是anonymous的

匿名性是会受到威胁的，所以不是anonymous而是pseudonymous

比特币系统没有用户目录。然而，我们可以尝试建立一个与比特币用户(以及他们已知的)关联的部分用户目录公钥)和离网信息。如果我们能建立充分的关联，并将它们与上面的网络结构结合起来，一个潜在的严重的匿名威胁出现了。许多接受比特币的机构和服务，如在线商店、交易所、洗衣服务和搅拌机，都有权限获取用户的身份信息，例如电子邮件地址、送货地址、信用卡和银行账户信息，IP地址等。如果这些信息中的任何一个是公开的，或者是被执法机构获取的，那么涉及关联交易的用户的身份也可能在风险。

### 1.2.1 user network

The user network  represents the ow of Bitcoins between users over time.
Each vertex represents a user and each directed edge between a source and
a target represents an input-output pair of a single transaction where the
input's public-key belongs to the user corresponding to the source and the
output's public-key belongs to the user corresponding to the target. Each
directed edge also includes a value in Bitcoins and a timestamp.

### 1.2.1同一个钱包的多次交易，能够对该钱包进行画像，并推断出他的活动

### 1.2.2 Integrating Off-Network Information

比特币系统没有用户目录。然而，我们可以尝试建立一个与比特币用户(以及他们已知的)关联的部分用户目录公钥)和离网信息。如果我们能建立充分的关联，并将它们与上面的网络结构结合起来，一个潜在的严重的匿名威胁出现了。许多接受比特币的机构和服务，如在线商店、交易所、洗衣服务和搅拌机，都有权限获取用户的身份信息，例如电子邮件地址、送货地址、信用卡和银行账户信息，IP地址等。如果这些信息中的任何一个是公开的，或者是被执法机构获取的，那么涉及关联交易的用户的身份也可能在风险。

### 1.2.3 	

安全研究员丹·卡明斯基(Dan Kaminsky)对比特币进行了分析系统，调查身份泄漏在TCP/IP层。他发现通过同时打开对网络中所有公共对等点的连接，他就可以进行IP地址与比特币公钥的映射。他的假设是“通知您交易的第一个节点是它的源”，使用这种方法是可能的，除非用户使用匿名代理，或者使用多路径转发如TOR。

多路径转发。跟洋葱路由(TOR)是一样的原理。即消息不是由发出者直接发送给接收者，中间要经过很多次转发。中间的每一个节点，只知道它的上一个节点是谁，但并不知道最早发出消息的人是谁。当然中间一些节点可能是坏的，但路径上只要有一个节点是诚实的，就能够把最初发起人的身份隐藏起来。这也是洋葱路由的基本原理。

### 1.2.4 对各个地址进行关联，以形成画像

![img](https://mewtiger-1311904225.cos.ap-nanjing.myqcloud.com/post/20210619195714481.png)

从上图可以看出，在输入地址1和2都不可能是对地址4进行输入的，因为地址1、2的比特币金额大于地址4的，如果地址1或2向地址3输入，那么必须有一个找零钱的地址返回。分析到这里我们可以基本确定输入地址1和2都是对地址3进行进行交易的，而因为地址3的金额是6比特币，而地址1和地址2的比特币金额加起来是9比特币，则必须找3比特币零钱。所以地址1、2、4都是一个账户的所属的地址。那么只要我们后监控地址3及其后面交易得到的子地址，就可以大致知道这个账户的交易交易记录。

是不是可以人为制造多个不必要的交易来迷惑他人呢？这个想法是可行的。但是现在很少有人会费大功夫去手动生成复杂交易。而且现在大多数的比特币交易都是用钱包软件进行，常用的比特币交易钱包只有那几种，只要掌握了这几个软件的交易原理就可以分析出交易过程。另外现在的比特币钱包软件也不会生成不必要的地址。

### 1.2.5 使用本地网络属性来检查用户操作的上下文，方法是观察与用户直接或间接交互的用户

在执行上述分析之前，我们预计用户网络主要由表示一次性公钥之间比特币流的树组成，这些一次性公钥与其他公钥没有链接。然而，我们的分析表明，用户网络具有相当大的循环结构。

我们现在考虑这种结构的含义，有几种方法可以利用用户网络来**推断比特币用户的信息**。我们可以使用全局网络属性，例如度分布，来识别异常值。我们可以**使用本地网络属性来检查用户操作的上下文，方法是观察与用户直接或间接交互的用户**。我们现在将更详细地讨论每种可能性，并提供一个案例研究来演示它们在实践中的使用。

给定一些公钥或感兴趣的用户，我们可以使用网络结构和上下文来更好地理解比特币在他们之间的流动。例如，我们可以检查一组顶点之间的所有最短路径，或者考虑在一个有趣的时间窗口内，给定交易及其“容量”，从一个源到一个目的地可以流动的比特币的最大数量。例如，图1.10显示了我们在1.5.1节中使用离网信息识别的代表用户的顶点和代表用户网络中MyBitcoin服务的顶点之间的所有最短路径。在这个可视化中，我们可以识别出60%以上的用户，并推断出他们之间的许多直接和间接关系。

<img src="https://mewtiger-1311904225.cos.ap-nanjing.myqcloud.com/post/image-20220530001623555.png" alt="image-20220530001623555" style="zoom:50%;" />

> 确定的所有用户的可视化，以及代表这些用户的顶点和代表用户网络中MyBitcoin服务的顶点之间的所有最短路径。

案例研究-第一部分:我们分析了一个名为allinvain的用户在比特币论坛上报告的25,000比特币被盗事件。受害者报告称，他的大部分比特币于2011年6月13日16:52:23 UTC时间被发送到pk<sub>red</sub>。盗窃发生前不久，有人闯入了受害者的Slush暂记帐（即待分配的费用帐户），并将支出地址改为pk<sub>blue</sub>，比特币理应属于pk<sub>green</sub>。被盗时，被盗的比特币市值约为50万美元。我们选择这个案例研究来说明一个有**即使作为一个有充分里有保持匿名的小偷，他的匿名性仍存在风险**

我们在任何收缩之前都要考虑不完整的用户网络。我们将自己限制在围绕小偷的自我中心网络中:我们包括每一个可以通过长度不超过2的路径到达的顶点，忽略方向性，以及由这些顶点诱导的所有边。我们还删除了所有的循环，多个边和不包含在一些双连通组件中的边，以避免混乱。在图1.11中，红色顶点表示拥有公钥pk<sub>red</sub>的小偷，绿色顶点表示拥有公钥pk<sub>green</sub>的受害者。盗窃案用一条绿色的边表示，把受害者和小偷连在一起。



<img src="https://mewtiger-1311904225.cos.ap-nanjing.myqcloud.com/post/image-20220530001831289.png" alt="image-20220530001831289" style="zoom:50%;" />

> 一个不完全用户网络中小偷的自我中心可视化。对于这个可视化，顶点根据文本着色，边缘根据其来源的颜色着色，每个顶点的大小与它在自我中心网络中的边之间成比例。

<img src="https://mewtiger-1311904225.cos.ap-nanjing.myqcloud.com/post/image-20220530001950645.png" alt="image-20220530001950645" style="zoom:50%;" />

> 一个有趣的子网络由小偷，受害者和其他三个顶点引起的。表示法与图1.11相同。

一个有趣的子网络由小偷，受害者和其他三个顶点引起的。有趣的是，受害者和小偷是通过其他路径连接的(忽略方向)，而不是绿色的边代表偷窃。例如，考虑图1.12中由红、绿、紫、黄、橙四个顶点诱导的子网络。这个子网络是一个循环。我们收缩所有对应的公钥属于同一用户的顶点。这允许我们将比特币和时间戳的值附加到有向边。我们可以做一些观察。首先，我们注意到在25000个比特币被盗之前，还有1个比特币被盗。这是受害者后来在比特币论坛上报告的。其次，使用网络外的数据，我们已经识别了一些其他颜色的顶点:**紫色顶点代表主要的Slush池帐户**，**橙色顶点代表计算机黑客组织LulzSec**我们注意到，至少有一次试图将该窃贼与LulzSec21联系在一起。这是假的;它是在失窃之后创建的。然而，LulzSec对橙色顶点的识别是真实的，并且在被盗之前就已经建立了。我们观察到小偷在盗窃后不久向LulzSec发送了0.31337比特币，但我们无法将他与该组织联系起来。Slush账户在70天内共向受害者发送了441.83个比特币。它还在两天内向黄色顶点发送了总共0.2个BTC。在失窃前一天，黄顶点还向LulzSec发送了0.120607 BTC。

黄色顶点表示代表一个至少拥有五个公钥的用户。和受害人一样，他也是" Slush "的一员，和小偷一样，他也曾给LulzSec捐过一次款。被盗前一天的这笔捐赠，是他最后一次使用这些公开密钥的活动。

### 1.2.6 Other Forms of Analysis

## 1.3 总结

balabla



