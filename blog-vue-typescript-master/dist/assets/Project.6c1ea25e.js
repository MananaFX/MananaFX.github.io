import{_ as v,d as w,r as y,i as E,C as k,E as C,G as P,H as j,e as m,h as _,w as c,x as d,j as p,J as T,s as b,m as N,p as a,q as n,F as B,v as M,f as s,t as i}from"./index.1ec83935.js";import{L as S}from"./LoadEnd.195b12ea.js";import{L as $}from"./Loading.92926a1e.js";const x=w({name:"Project",components:{LoadEnd:S,LoadingCustom:$},setup(){const e=y({reverse:!0,isLoadEnd:!1,isLoading:!1,isMobileOrPc:E(),list:[],total:0,params:{keyword:"",pageNum:1,pageSize:10}}),l=o=>T(o,!0),r=async()=>{e.isLoading=!0;const o=await b.get(N.getProjectList,{params:e.params});e.isLoading=!1,e.list=[...e.list,...o.list],e.total=o.count,e.params.pageNum++,e.total===e.list.length&&(e.isLoadEnd=!0)};return k(()=>{r(),window.onscroll=()=>{C()+P()>j()-100&&e.isLoadEnd===!1&&e.isLoading===!1&&r()}}),{state:e,formatTime:l,handleSearch:r}}}),H={class:"project left"},O=["href"],V=["src"],D={style:{padding:"14px"}},F={class:"content"};function q(e,l,r,o,z,G){const u=a("el-card"),f=a("el-col"),g=a("el-row"),L=a("LoadingCustom"),h=a("LoadEnd");return n(),m("div",H,[_(g,{gutter:20},{default:c(()=>[(n(!0),m(B,null,M(e.state.list,(t,I)=>(n(),d(f,{class:"el-col-pointer",span:e.state.isMobileOrPc?24:12,key:t._id,style:{"margin-bottom":"20px"}},{default:c(()=>[s("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},[_(u,{shadow:"hover"},{default:c(()=>[s("img",{src:t.img,class:"image"},null,8,V),s("div",D,[s("h4",null,i(t.title),1),s("div",F,i(t.content),1),s("span",null,i(e.formatTime(t.start_time))+"-- ",1),s("span",null,i(e.formatTime(t.end_time)),1)])]),_:2},1024)],8,O)]),_:2},1032,["span"]))),128))]),_:1}),e.state.isLoading?(n(),d(L,{key:0})):p("",!0),e.state.isLoadEnd?(n(),d(h,{key:1})):p("",!0)])}var K=v(x,[["render",q],["__scopeId","data-v-c30cfd16"]]);export{K as default};
