import{_ as f,d as L,r as y,g as c,B as v,D as w,E as C,G as E,e as m,f as o,h as k,w as A,T as B,x as g,j as h,H as b,I as H,J as S,p,q as r,F as T,v as D,t as _}from"./index.45841652.js";import{L as N}from"./LoadEnd.0a455ee1.js";import{L as $}from"./Loading.4c6ea79c.js";import{_ as x}from"./bg.32e7122c.js";const z=window.innerHeight||document.documentElement.clientHeight,V=b(()=>{const e=document.querySelectorAll("#list .item img");let i=0;for(let t=i;t<e.length;t++){let l=z-e[t].getBoundingClientRect().top,a=e[t];l>=100&&(a.getAttribute("data-has-lazy-src")==="false"&&(a.src=a.getAttribute("data-src"),a.setAttribute("data-has-lazy-src","true")),i=t+1)}},1e3),F=L({name:"Articles",components:{LoadEnd:N,LoadingCustom:$},watch:{$route:{handler(e,i){this.routeChange(e,i)},immediate:!0}},setup(e,i){const t=y({isLoadEnd:!1,isLoading:!1,articlesList:[],total:0,params:{keyword:"",tag_id:c("tag_id"),category_id:c("category_id")},href:"/#/articleDetail?article_title="}),l=s=>H(s,!0),a=()=>{S({url:"/MananaFXMd/articleslist.json",method:"get"}).then(s=>{console.log(s),t.total=s.list.length,t.articlesList=s.list})},d=(s,u)=>{t.params.tag_id=c("tag_id"),t.params.category_id=c("category_id"),t.articlesList=[],t.params.pageNum=1,a()};return v(()=>{a(),window.onscroll=()=>{w()+C()>E()-100&&t.isLoadEnd===!1&&t.isLoading===!1&&a()},document.addEventListener("scroll",V)}),{state:t,formatTime:l,getData:a,routeChange:d}}}),I={class:"left clearfix"},M={class:"articles-list",id:"list"},j=["href"],q=["data-src"],G={class:"content"},J={class:"title"},Q={class:"abstract"},R={class:"meta"},W={class:"time"};function X(e,i,t,l,a,d){const s=p("LoadingCustom"),u=p("LoadEnd");return r(),m("div",I,[o("ul",M,[k(B,{name:"el-fade-in"},{default:A(()=>[(r(!0),m(T,null,D(e.state.articlesList,n=>(r(),m("li",{key:n.title,class:"item"},[o("a",{href:e.state.href+n.name,target:"_blank"},[o("img",{class:"wrap-img img-blur-done","data-src":n.img_url,"data-has-lazy-src":"true",src:x,alt:"\u6587\u7AE0\u5C01\u9762"},null,8,q),o("div",G,[o("h4",J,_(n.title),1),o("p",Q,_(n.desc),1),o("div",R,[o("span",W,_(n.create_time),1)])])],8,j)]))),128))]),_:1})]),e.state.isLoading?(r(),g(s,{key:0})):h("",!0),e.state.isLoadEnd?(r(),g(u,{key:1})):h("",!0)])}var Y=f(F,[["render",X],["__scopeId","data-v-a8a8e796"]]);export{Y as default};
