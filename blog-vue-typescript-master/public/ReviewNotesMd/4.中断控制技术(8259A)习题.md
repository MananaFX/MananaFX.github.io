# **第4章 8259a习题**

## 一、填空题

1、在8086/8088PC机系统中使用的中断控制器是 <u>**8259A**</u> 芯片，该中断控制器可接受 **<u>8</u>** 级硬件外中断。

2、PC机系统中，中断优先做级别最高的为 <u>**除法错**</u>中断，而级别最低的为 <u>**单步**</u> 中断。

3、在中断响应期间，CPU要做的工作，即 <u>**关闭中断**</u> 、<u>**CS、IP以及FR的内容入栈**</u> 、<u>**中断服务程序地址送入CS，偏移地址送入IP**</u> 。

4、8088/8086 CPU提供的中断控制系统，它最多能处理 <u>**256**</u> 个不同类型的中断。

5、在8088/8086系统中，中断向量地址由 <u>**中断类型号*4**</u>计算得到。

6、8088/8086 CPU允许接受三种类型的中断：<u>**内部中断 、NMI中断 、INTR中断**</u>

7、8088/8086 CPU的**外中断**是指 <u>**由外部中断源对CPU产生的中断请求**</u> ，而**内中断**是指 <u>**CPU内部时间及执行软中断指令所产生的中断**</u>。

8、8088/8086 CPU中用作中断屏蔽的标志为关中断时，该标志位是<u>**IF=0**</u> 。

9、若8259A是主片时引脚<img src="./clip_image002.gif" alt="img" style="zoom: 80%;" />/<img src="./clip_image004.gif" alt="img" style="zoom:80%;" />是**<u>高</u>**电平，若8259A是从片时则引脚<img src="./clip_image002.gif" alt="img" style="zoom:80%;" />/<img src="./clip_image004.gif" alt="img" style="zoom:80%;" />是 **<u>低</u>** 电平。

10、8259A有两种中断触发方式： **<u>电平触发</u>** 和 **<u>边沿触发</u>**

11、对于8259A的中断请求寄存器IRR，当某一个IRi端呈现 **<u>有效电平</u>**时，则表示该端有中断请求。

12、在8088系统中，若某外设的中断类型号为**75H**，则中断服务子程序的入口地址应该存放在内存地址 **<u>1D4H~1D7H</u>** 中，其中入口地址的**段地址**存放在**<u>1D7H、1D6H</u>** 单元中，入口地址的**偏移地址**存放在 **<u>1D5H、1D4H</u>**单元中

13、8086/8088CPU的可屏蔽中断请求信号**INTR**的有效电平**<u>高电平</u>**是 ，非屏蔽中断请求信号**NMI**的有效电平是**<u>上升沿</u>**

14.设8086系统中采用单片8259A，8259A的ICW2=**32H**，则对应IR5的中断类型号为<u>35H</u>，它的中断入口地址在中断向量表中的地址为 **<u>0D4H~0D7H</u>**。

## 二、判断题

1\. 内部中断的优先权总是高于外部中断。（ **✕** ）

2\. 两片8259A级连后可管理16级中断。（ **✕** ）

3\. 8259A所管理的中断源中，优先级低的中断源不可能中断优先级高的中断服务子程序。（ **✕** ）  *特殊屏蔽方式*

4\. 若8259A中断屏蔽字OCW1为00H，则8259A所管理的8级中断全被屏蔽. （ **✕** ）

5\. 只要8259A所管理的中断源没有被屏蔽，则任何中断源的中断请求都能得到CPU的响应和服务。（ **✕** ）

##   三、单项选择题

1、CPU响应**INTR**引脚上来的中断请求的条件之一是（ B ） 。

A）IF=0 B）**IF=1** C）TF=0 D）TF=1

2、断点中断的中断类型码是（ D ） 。

A）1 B）2 C）**3** D）4

3、在PC/XT机中键盘的中断类型码是09H，则键盘中断矢量存储在（ B ）。

A）36H～39H B）**24H～27H** C）18H～21H D）18H～1BH

4、**3片**8259A级联起来，可管理（ C ）级中断。

A）24 B）23 C）**22** D）20 E）16 F）15

5、若8259A工作在**优先级自动循环**方式，则IRQ4的中断请求被响应并且服务完毕后，**优先权最高**的中断源是（ B ）。

A）IRQ3  B)**IRQ5**  C)IRQ0  D)IRQ4

6、已知某系统共有4台外设，即A，B，C，D，每台外设都可能发生中断，系统规定中断优先级为**A最高，D最低，B、C同级介于A，D之间**，当CPU在执行C设备的中断服务程序时，其余三**台外设同时发生中断请求**，此时，**IF=1**，问CPU响应哪台外设请求（ ）

A.B设备 B.**A设备**

C.都不响应 D.依A、B、D次序都响应

7、已知某系统共带三台外设，即X、Y、Z，每台外设都能发出中断，它们的中断优先级为X\>Y\>Z，当前在执行Z中断服务程序时，X，Y同时发出中断请求，若此时IF=0，问CPU响应哪台外设请求（ D ）

A.X设备 B.Y设备

C.无响应X，后响应Y D.**都不响应**

8、在8088/8086系统中使用8259A作为中断控制器，试问8259A中的中断屏蔽寄存器**（IMR）中的屏蔽位**与**CPU的标志寄存器中的IF位**对中断影响是什么关系（ D ）

A.屏蔽位与IF位都用来控制某一个中断源的中断请求

B.屏蔽位只使对应中断起开中断或关中断功能

C.屏蔽位和IF位功能完全一样，可互相替代

D.**屏蔽位只对一个中断源屏蔽，而IF位对所有中断源的中断屏蔽**

9、IBM-PC系统中规定的中断优先级次序，下面哪种正确（ A ）

A.**内中断（除法错，INTO，INT）\>（NMI）\>（INTR）\>单步中断**

B.NMI \> 内中断 \> INTR \> 单步中断

C.内中断 \> 单步中断 \> NMI \> INTR

D.NMI \> 内中断 \> 单步中断 \> INTR

10、中断过程与子程序之间用过程比较，下面哪一条是错误的（B ）

A.中断过程与子程序调用过程都需保护断点

B.**中断过程与子程序调用过程都需保护标志寄存器** *子程序调用不需要*

C.中断过程与子程序调用过程都要改变程序执行方向

D.**外设**中断过程是随机的，而调用子程序是事先安置好的

## 四、多项选择题

1．PC/XT机对I/O端口的寻址方式有（A、F ）。

A）**端口直接寻址** B）寄存器寻址 C）基址寻址 D）变址寻址

E）寄存器相对寻址 F）**DX间接寻址**

2．PC机在和I/O端口输入输出数据时，I/O数据须经（ AL、AX ）传送。

A）**AL** B）BL C）CL D）DL

E）**AX** F）BX G）CX H）DX

3．在PC机工作过程中，8259A所管理的中断源优先级将发生变化的工作方式有（A、B、C、D ）。

A）**全嵌套工作方式** B）**特殊全嵌套方式**

C）**优先级自动循环方式** D）**优先级特殊循环方式**

4．写入8259A的ICW1为13H，则该8259A芯片的工作方式是（ A、D、E ）。

A）**上升沿触发中断请求** B）仅高电平请求中断 C）多片主从方式

D）单片方式 E）**初始化写入ICW4** F）初始化不写入ICW4

## 五、简答题

1、说明AEOI和EOI的区别，一般EOI和特殊EOI的区别，你认为它们各适合在什么情况下使用？

- 自动结束方式不需要结束命令，对8086/8088系统，8259A在第二个脉冲的后沿自动执行使ISR的相应位复位。由于这种方式在中断服务过程中使ISR相应位复位，就可以能响应优先级别更低的中断，因此不适合有中断嵌套的情况
- 特殊结束命令是要中断处理程序中提供一条EOI命令，使8259A中的ISR相应位复位。如果是级联必须送两个EOI命令，第一个先送从8259A，第二个送主8259A。适合于特殊嵌套方式。

2、8259A的主要功能有哪些？

1. 8259A可以管理8级优先权管理，通过8259A级联，最多可以连接9片，最多可以管理64级中断源。
2. 任何一级中断源都有可以屏蔽，使用权该级的中断请求暂时被挂起，直到取消屏蔽为止。
3. 向微处理器提供可编程的标识码，对于8086/8088微处理器而言就是中断类型码。
4. 具有多种优先权管理方式，如：自动循环方式，完全嵌套方式，特殊屏蔽方式，特殊循环方式等。

3、8259A对中断优先权的管理方式有哪几种？各是什么含义？

1. （1）完全嵌套方式：ISR寄存器中某一位置"1"，表示CPU正在处理这一级的中断请求，8259A允许比它级别高的中断请求进入，禁止与它同级或低级中断请求进入。Iri引入的中断请求有固定的中断级别，R0最高，R7最低。
2. 自动循环方式：Iri优先级别不固定，每当任何一级中断被处理完毕，它的优先级就改变为最低，而将最高级别赋给比它低一级的中断请求。
3. 中断屏蔽方式：由CPU在任何时候都可安排一条清除中断指令。包含普通屏蔽方式和特殊屏蔽的方式；普通屏蔽方式是将IMR中某一位或几位置"1"，可将相应位级的中断请求屏蔽掉；特殊屏蔽的方式是当CPU正在处理某级中断时，要求仅对本级中断进行屏蔽，而允许其他优先级比它低或高的中断进入系统。

4、8259A内部实现优先权管理的核心部件是哪些?

- 8259A内部实现中断优先权管理的核心部件是中断屏蔽寄存器IMR，中断请求寄存器IRR，中断服务寄存器ISR，优先级判别器PR和控制逻辑。

5、设ICW2为37H，16位系统中，有一个外设的中断请求端连接8259A的IR3中断处理程序放在78F0H:5431H处。问：此外设对应的中断类型号是多少?中断向量为多少?中断向量存放在什么地方?

- 中断类型号为33H，中断向量为78F0H:5431H，放在0段00CCH～00CFH，其中(CCH)=31H，(CDH)=54H，(CEH)=F0H，(CFH)=78H。

6、用电平触发方式，普通全嵌套中断优先级，数据总线无缓冲，自动中断结束方式，并且中断类型码为20H\~27H，请写出它的初始化命令字ICW1、ICW2、ICW4

- ICW1：00011011B

- ICW2：00100000B

- ICW4：00000111B

## 六、应用题

1、试按照如下要求对8259A设设置置初始化命令字；系统中有一片8259A，中断请求信号用触发方式，下面要用ICW4，中断类型码为60H、61H、62H......67H，用特殊全嵌套方式，不用缓冲方式，采用中断自动结束方式。8259A的端口为94H，95H。

```ASN.1
MOV AL,00010011B
OUT 94H,AL
MOV AL,01100000B
OUT 95H,AL
MOV AL,00010011B
OUT 95H,AL
```

2、已知8086/8088的非屏蔽中断(NMI)服务程序的入口地址标号为NMITS，试编程将入口地址填写到中断向量表。

```ASN.1
CLI
MOV DI,02H*4
CLD
XOR AX,AX
MOV ES,AX
MOV AX,OFFSET NMITS
STOSW
MOV AX,SEG NMITS
STOSW
STI
```
