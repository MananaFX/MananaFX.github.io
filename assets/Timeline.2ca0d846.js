import{_ as f,d as g,r as L,B as h,D as v,E as T,G as w,e as d,h as c,w as i,I as y,s as E,m as k,p as l,q as r,F as B,v as x,x as C,f as s,t as o}from"./index.94fa8c7a.js";import{L as N}from"./LoadEnd.5afe619c.js";import{L as S}from"./Loading.608b8075.js";const $=g({name:"Timeline",components:{LoadEnd:N,LoadingCustom:S},setup(){const e=L({isLoadEnd:!1,isLoading:!1,list:[],total:0,params:{keyword:"",pageNum:1,pageSize:10}}),m=a=>y(a,!0),n=async()=>{e.isLoading=!0;const a=await E.get(k.getTimeAxisList,{params:e.params});e.isLoading=!1,e.list=[...e.list,...a.list],e.total=a.count,e.params.pageNum++,e.total===e.list.length&&(e.isLoadEnd=!0)};return h(()=>{n(),window.onscroll=()=>{v()+T()>w()-100&&e.isLoadEnd===!1&&e.isLoading===!1&&n()}}),{state:e,formatTime:m,handleSearch:n}}}),D={class:"timeline left"};function F(e,m,n,a,H,I){const p=l("el-card"),_=l("el-timeline-item"),u=l("el-timeline");return r(),d("div",D,[c(u,null,{default:i(()=>[(r(!0),d(B,null,x(e.state.list,(t,V)=>(r(),C(_,{key:t._id,color:t.state===1?"green":t.state===3?"red":"",placement:"top","hide-timestamp":""},{default:i(()=>[c(p,null,{default:i(()=>[s("h3",null,o(t.title),1),s("p",null,o(t.content),1),s("p",null,[s("span",null,o(e.formatTime(t.start_time))+"-- ",1),s("span",null,o(e.formatTime(t.end_time)),1)])]),_:2},1024)]),_:2},1032,["color"]))),128))]),_:1})])}var A=f($,[["render",F],["__scopeId","data-v-568d39b6"]]);export{A as default};
